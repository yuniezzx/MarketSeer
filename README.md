ğŸ§  MarketSeer é¡¹ç›®å¼€å‘æ–‡æ¡£ï¼ˆç¬¬äºŒç‰ˆï¼‰

## ä¸€ã€é¡¹ç›®æ¦‚è¿°

MarketSeer æ˜¯ä¸€ä¸ªé‡‘èæ•°æ®é‡‡é›†ã€æ•´åˆä¸åˆ†æç³»ç»Ÿï¼Œæ—¨åœ¨é€šè¿‡å¤šæ•°æ®æºï¼ˆAkShareã€eFinanceã€yFinance ç­‰ï¼‰è‡ªåŠ¨è·å–è‚¡ç¥¨å¸‚åœºæ•°æ®ï¼Œæ„å»ºç»Ÿä¸€çš„æ•°æ®ä¸­å¿ƒï¼Œä¸ºå‰ç«¯å¯è§†åŒ–ä¸åˆ†ææä¾›æ”¯æŒã€‚

ç³»ç»Ÿé‡‡ç”¨ï¼š

- **åç«¯**ï¼šFlask + SQLite
- **å‰ç«¯**ï¼šReact (JavaScript)
- **é¡¹ç›®ç®¡ç†å·¥å…·**ï¼šuv (Python ç¯å¢ƒç®¡ç†)
- **æ•°æ®åº“æ“ä½œ**ï¼šSQLAlchemy ORM
- **è¿è¡Œç¯å¢ƒ**ï¼šæœ¬åœ°å¼€å‘ â†’ æµ‹è¯• â†’ éƒ¨ç½²ç”Ÿäº§

---

## äºŒã€é¡¹ç›®ç»“æ„

```
MarketSeer/
â”‚
â”œâ”€â”€ backend/               # åç«¯æ ¸å¿ƒç›®å½•
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ routes/        # è·¯ç”±æ¥å£
â”‚   â”‚   â”œâ”€â”€ models/        # æ•°æ®åº“æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ services/      # æ•°æ®é‡‡é›†ä¸åˆå¹¶é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ utils/         # å·¥å…·å‡½æ•°ï¼ˆæ—¥å¿—ã€æ—¶é—´ã€æ ¼å¼åŒ–ï¼‰
â”‚   â”‚   â”œâ”€â”€ config.py      # å…¨å±€é…ç½®ï¼ˆAPI Keysã€è·¯å¾„ã€ç¯å¢ƒå˜é‡ï¼‰
â”‚   â”‚   â””â”€â”€ tasks/         # å®šæ—¶ä»»åŠ¡æˆ–æ•°æ®æ›´æ–°è„šæœ¬
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â””â”€â”€ marketseer.db  # SQLite æ•°æ®åº“æ–‡ä»¶
â”‚   â”œâ”€â”€ pyproject.toml     # uv é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ uv.lock
â”‚   â”œâ”€â”€ run.py             # åç«¯å¯åŠ¨å…¥å£
â”‚   â””â”€â”€ README.md
â”‚
â””â”€â”€ frontend/              # å‰ç«¯é¡¹ç›®
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ pages/
    â”‚   â”œâ”€â”€ services/      # è°ƒç”¨åç«¯ API
    â”‚   â”œâ”€â”€ hooks/
    â”‚   â””â”€â”€ utils/
    â”œâ”€â”€ public/
    â”œâ”€â”€ package.json
    â”œâ”€â”€ vite.config.js
    â””â”€â”€ README.md
```

---

## ä¸‰ã€æ•°æ®åº“è®¾è®¡

### 1. è®¾è®¡è¯´æ˜

åˆå§‹é˜¶æ®µä»…åŒ…å« `stock_info` ä¸€å¼ è¡¨ï¼Œç”¨äºå­˜å‚¨è‚¡ç¥¨åŸºç¡€ä¿¡æ¯ã€‚  
æ•°æ®æ¥æºäº AkShare ä¸ eFinance çš„æ¥å£æ•´åˆç»“æœã€‚

æœªæ¥ä¼šæ‹“å±•æ›´å¤šè¡¨ï¼š

- `stock_price`
- `stock_financials`
- `stock_dividend`
- `stock_analysis`

### 2. è¡¨ç»“æ„å®šä¹‰

| å­—æ®µå      | ç±»å‹    | è¯´æ˜                                    |
| ----------- | ------- | --------------------------------------- |
| id          | INTEGER | ä¸»é”®ï¼Œè‡ªå¢                              |
| code        | TEXT    | è‚¡ç¥¨ä»£ç ï¼ˆå”¯ä¸€ï¼‰                        |
| name        | TEXT    | è‚¡ç¥¨åç§°                                |
| market      | TEXT    | å¸‚åœºï¼ˆå¦‚ä¸Šäº¤æ‰€ã€æ·±äº¤æ‰€ï¼‰                |
| industry    | TEXT    | è¡Œä¸šåˆ†ç±»                                |
| list_date   | TEXT    | ä¸Šå¸‚æ—¥æœŸ                                |
| status      | TEXT    | å½“å‰çŠ¶æ€ï¼ˆä¸Šå¸‚ / é€€å¸‚ï¼‰                 |
| source      | TEXT    | æ•°æ®æ¥æºï¼ˆakshare / efinance / mergedï¼‰ |
| update_time | TEXT    | æœ€åæ›´æ–°æ—¶é—´ï¼ˆISO æ ¼å¼ï¼‰                |

---

## å››ã€åç«¯æ¥å£è®¾è®¡

### 1. æ¥å£è®¾è®¡åŸåˆ™

- RESTful é£æ ¼
- æ‰€æœ‰æ¥å£ä»¥ `/api/` å¼€å¤´
- æ•°æ®è¿”å›ç»Ÿä¸€æ ¼å¼ï¼š

```json
{
  "status": "success",
  "data": {...},
  "message": ""
}
```

### 2. æ¥å£æ–‡æ¡£æ¨¡æ¿

#### æ¥å£åç§°ï¼šè‚¡ç¥¨åˆ—è¡¨æŸ¥è¯¢

- **è¯·æ±‚æ–¹å¼**ï¼šGET
- **URL**ï¼š`/api/stocks`
- **å‚æ•°**ï¼šæ— ï¼ˆå¯åç»­æ‰©å±•åˆ†é¡µã€ç­›é€‰ï¼‰
- **è¿”å›ç¤ºä¾‹**ï¼š

```json
{
  "status": "success",
  "data": [
    {
      "code": "600519",
      "name": "è´µå·èŒ…å°",
      "market": "SH",
      "industry": "é¥®æ–™åˆ¶é€ ",
      "list_date": "2001-08-27"
    }
  ]
}
```

#### æ¥å£åç§°ï¼šå•åªè‚¡ç¥¨è¯¦æƒ…æŸ¥è¯¢

- **è¯·æ±‚æ–¹å¼**ï¼šGET
- **URL**ï¼š`/api/stocks/<code>`
- **å‚æ•°**ï¼š`code` - è‚¡ç¥¨ä»£ç 
- **è¿”å›ç¤ºä¾‹**ï¼š

```json
{
  "status": "success",
  "data": {
    "code": "600519",
    "name": "è´µå·èŒ…å°",
    "market": "SH",
    "industry": "é¥®æ–™åˆ¶é€ ",
    "list_date": "2001-08-27",
    "status": "ä¸Šå¸‚"
  }
}
```

#### æ¥å£åç§°ï¼šæ•°æ®æ›´æ–°æ¥å£

- **è¯·æ±‚æ–¹å¼**ï¼šPOST
- **URL**ï¼š`/api/update/stocks`
- **è¯´æ˜**ï¼šä» AkShareã€eFinance ç­‰æ•°æ®æºæ›´æ–°æ•°æ®åº“
- **è¿”å›**ï¼š

```json
{
  "status": "success",
  "message": "stock_info updated successfully",
  "updated_rows": 2345
}
```

---

## äº”ã€å‰åç«¯äº¤äº’æµç¨‹

1. ç”¨æˆ·åœ¨å‰ç«¯å‘èµ·è¯·æ±‚ï¼ˆé€šè¿‡ Axiosï¼‰ï¼›
2. Flask åç«¯æ¥æ”¶è¯·æ±‚ï¼›
3. è‹¥ä¸ºæŸ¥è¯¢ç±»æ¥å£ â†’ ä» SQLite è¯»å–ï¼›
4. è‹¥ä¸ºæ›´æ–°ç±»æ¥å£ â†’ è°ƒç”¨ AkShare / eFinance â†’ æ¸…æ´—åˆå¹¶ â†’ å†™å…¥æ•°æ®åº“ï¼›
5. è¿”å› JSON å“åº”ï¼›
6. å‰ç«¯æ¸²æŸ“å±•ç¤ºã€‚

---

## å…­ã€è¿è¡Œé¡¹ç›®

### 1. å¯åŠ¨åç«¯

```bash
cd backend
uv venv
uv pip install -e .
python run.py
```

### 2. å¯åŠ¨å‰ç«¯

```bash
cd frontend
npm install
npm run dev
```

å‰ç«¯æœåŠ¡å°†åœ¨ http://localhost:3000 å¯åŠ¨  
åç«¯æœåŠ¡å°†åœ¨ http://localhost:5000 å¯åŠ¨

---

## ä¸ƒã€è®¸å¯è¯

MIT License
