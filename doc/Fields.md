# WeeklyLHB 字段说明文档

本文档说明 `WeeklyLHB` 模型的所有字段及其含义,以及从 akshare 数据源的映射关系。

## 数据源

- **数据来源**: akshare
- **接口**: `stock_lhb_detail_em` (东方财富龙虎榜详情)
- **映射配置**: `backend/app/mapping/lhb_mapping.py`

## 字段映射关系

| 模型字段               | akshare 源字段   | 字段类型 | 说明                      |
| ---------------------- | ---------------- | -------- | ------------------------- |
| code                   | 代码             | String   | 股票代码                  |
| name                   | 名称             | String   | 股票名称                  |
| listed_date            | 上榜日           | String   | 上榜日期                  |
| close_price            | 收盘价           | Float    | 收盘价                    |
| change_percent         | 涨跌幅           | Float    | 涨跌幅(%)                 |
| turnover_rate          | 换手率           | Float    | 换手率(%)                 |
| circulating_market_cap | 流通市值         | Float    | 流通市值(亿元)            |
| lhb_buy_amount         | 龙虎榜买入额     | Float    | 龙虎榜买入额              |
| lhb_sell_amount        | 龙虎榜卖出额     | Float    | 龙虎榜卖出额              |
| lhb_net_amount         | 龙虎榜净买额     | Float    | 龙虎榜净买额              |
| lhb_trade_amount       | 龙虎榜成交额     | Float    | 龙虎榜成交额              |
| market_total_amount    | 市场总成交额     | Float    | 市场总成交额              |
| lhb_net_ratio          | 净买额占总成交比 | Float    | 龙虎榜净买额占总成交比(%) |
| lhb_trade_ratio        | 成交额占总成交比 | Float    | 龙虎榜成交额占总成交比(%) |
| analysis               | 解读             | Text     | 解读                      |
| reasons                | 上榜原因         | Text     | 上榜原因                  |

---

## 详细字段说明

### 基本信息字段

#### code - 股票代码

- **类型**: String(20)
- **说明**: 股票的唯一标识代码
- **索引**: 是
- **示例**: "000001", "600000"

#### name - 股票名称

- **类型**: String(100)
- **说明**: 股票的中文名称
- **示例**: "平安银行", "浦发银行"

#### listed_date - 上榜日期

- **类型**: String(20)
- **说明**: 股票进入龙虎榜的日期
- **格式**: YYYY-MM-DD
- **示例**: "2025-01-15"

---

### 股票行情字段

#### close_price - 收盘价

- **类型**: Float
- **单位**: 元
- **说明**: 当天股票的收盘价格

#### change_percent - 涨跌幅

- **类型**: Float
- **单位**: %
- **说明**: 当天股票价格的涨跌幅度
- **计算**: ((收盘价 - 前收盘价) / 前收盘价) × 100%
- **正值**: 上涨
- **负值**: 下跌

#### turnover_rate - 换手率

- **类型**: Float
- **单位**: %
- **说明**: 当天股票的换手率,反映交易活跃度
- **计算**: (成交量 / 流通股本) × 100%
- **意义**:
  - 换手率越高,说明股票交易越活跃
  - 一般认为换手率 > 7% 为活跃
  - 换手率 > 15% 为高度活跃

#### circulating_market_cap - 流通市值

- **类型**: Float
- **单位**: 亿元
- **说明**: 股票的流通市值
- **计算**: 流通股数 × 股价

---

### 龙虎榜交易数据字段

#### lhb_buy_amount - 龙虎榜买入额

- **类型**: Float
- **单位**: 元
- **说明**: 当天进入龙虎榜的席位买入股票的金额总和
- **包括**:
  - 营业部席位买入额
  - 机构席位买入额

#### lhb_sell_amount - 龙虎榜卖出额

- **类型**: Float
- **单位**: 元
- **说明**: 当天进入龙虎榜的席位卖出股票的金额总和
- **包括**:
  - 营业部卖出额
  - 机构卖出额

#### lhb_net_amount - 龙虎榜净买额

- **类型**: Float
- **单位**: 元
- **说明**: 当天上榜席位(机构、游资等)合计的资金净流入金额
- **计算公式**:
  ```
  龙虎榜净买额 = 龙虎榜买入额 - 龙虎榜卖出额
  ```
- **含义**:
  - 净买额 > 0 → 资金净流入(买盘强劲)
  - 净买额 < 0 → 资金净流出(卖盘强劲)
  - 净买额 = 0 → 买卖平衡

#### lhb_trade_amount - 龙虎榜成交额

- **类型**: Float
- **单位**: 元
- **说明**: 龙虎榜席位的总成交金额
- **计算公式**:
  ```
  龙虎榜成交额 = 龙虎榜买入额 + 龙虎榜卖出额
  ```

#### market_total_amount - 市场总成交额

- **类型**: Float
- **单位**: 元
- **说明**: 整个市场在当天的成交金额总和(所有股票加总)
- **用途**: 作为计算龙虎榜占比的分母

---

### 龙虎榜占比数据字段

#### lhb_net_ratio - 龙虎榜净买额占总成交比

- **类型**: Float
- **单位**: %
- **说明**: 龙虎榜席位的净买入金额占当天市场总成交金额的比例
- **计算公式**:
  ```
  净买额占总成交比 = (龙虎榜净买额 / 市场总成交额) × 100%
  ```
- **用途**: 衡量龙虎榜资金对整个市场的影响力度
- **分析意义**:
  - 比例越高,说明龙虎榜资金对该股票的影响越大
  - 正值较大表示主力资金大幅流入
  - 负值较大表示主力资金大幅流出

#### lhb_trade_ratio - 龙虎榜成交额占总成交比

- **类型**: Float
- **单位**: %
- **说明**: 龙虎榜席位的成交金额占当天市场总成交金额的比例
- **计算公式**:
  ```
  成交额占总成交比 = (龙虎榜成交额 / 市场总成交额) × 100%
  ```
- **用途**: 衡量龙虎榜席位在市场中的活跃度
- **分析意义**:
  - 比例越高,说明龙虎榜席位参与度越高
  - 反映了游资和机构对该股票的关注程度

---

### 上榜情况字段

#### analysis - 解读

- **类型**: Text
- **说明**: 对该股票上榜情况的分析解读
- **内容**: 可能包括上榜原因分析、资金流向分析等文字说明

#### reasons - 上榜原因

- **类型**: Text
- **说明**: 股票进入龙虎榜的具体原因
- **常见原因**:
  - 日涨幅偏离值达 7%
  - 日跌幅偏离值达 7%
  - 日换手率达 20%
  - 日价格振幅达 15%
  - 连续三个交易日内涨幅偏离值累计达 20%
  - 连续三个交易日内跌幅偏离值累计达 20%

---
